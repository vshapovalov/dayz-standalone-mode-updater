MANDATORY TASK LOGGING (do this before any other work):\n1) Ensure there is a directory named `tasks/` at repo root (create if missing).\n2) Determine the next task number by listing existing files `tasks/task_*.md`:\n   - If none exist, start with task number = 1.\n   - Otherwise, set task number = (max existing number + 1).\n3) Create a new markdown file: `tasks/task_{N}.md`.\n4) Save the FULL EXACT PROMPT TEXT (verbatim) into that file, including this mandatory logging block and everything below it.\n5) Only after the file is created, proceed with implementing the task.\n\n\nImplement RCON controller with countdown.\n\nUse github.com/multiplay/go-battleye:\n- connect to rcon host:port with password\n- Exec commands: \n  - say -1 <message>\n  - #shutdown\n\nCountdown rules:\n- After sync, state has: needs_shutdown=true, shutdown_deadline_at, next_announce_at.\n- Every rcon_tick_seconds:\n  - For each server with needs_shutdown=true:\n    - Try connect (if fail -> keep needs_shutdown true, log, retry next tick).\n    - If now < shutdown_deadline_at:\n        - If now >= next_announce_at:\n            remaining_minutes = ceil((deadline - now)/60)\n            send say -1 message_template with {minutes}=remaining_minutes\n            next_announce_at = now + shutdown.announce_every_seconds\n    - Else (now >= deadline):\n        - send say -1 final_message (optional but required by config)\n        - send #shutdown\n        - needs_shutdown=false\n        - stage="idle"\n        - shutdown_sent_at=now\n- Resume behavior:\n  - If daemon restarts and needs_shutdown=true with deadline in past -> it should immediately attempt shutdown on next tick.\n\nAdd unit tests:\n- remaining_minutes calculation (ceil)\n- message formatting\n- state transitions countdown->shutdown->idle\n\nReturn code changes by file path.
